(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/bind"],{"10c3":function(n,e,t){"use strict";(function(n){t("ad33");o(t("66fd"));var e=o(t("8774"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"1a67":function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return c})),t.d(e,"a",(function(){return o}));var a=function(){var n=this,e=n.$createElement;n._self._c},c=[]},"6bb7":function(n,e,t){"use strict";t.r(e);var o=t("a3a7"),a=t.n(o);for(var c in o)"default"!==c&&function(n){t.d(e,n,(function(){return o[n]}))}(c);e["default"]=a.a},"6db7":function(n,e,t){"use strict";var o=t("814a"),a=t.n(o);a.a},"814a":function(n,e,t){},8774:function(n,e,t){"use strict";t.r(e);var o=t("1a67"),a=t("6bb7");for(var c in a)"default"!==c&&function(n){t.d(e,n,(function(){return a[n]}))}(c);t("6db7");var i,u=t("f0c5"),d=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"1b7be294",null,!1,o["a"],i);e["default"]=d.exports},a3a7:function(n,e,t){"use strict";(function(n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{inviteCode:"",number:""}},methods:{link:function(){var e=this;try{var o=n.getStorageSync("_id");o&&console.log(o),t.callFunction({name:"getu",data:{_id:this.inviteCode}}).then((function(a){console.log(a),e.number=a.result.affectedDocs,console.log("人数：",e.number,a.result.data["0"].lover_id),e.number>0&&o!=e.inviteCode&&""==a.result.data["0"].lover_id?(t.callFunction({name:"updateu",data:{_id:o,lover_id:e.inviteCode}}),t.callFunction({name:"updateu",data:{_id:e.inviteCode,lover_id:o}}).then((function(e){n.hideLoading(),n.showModal({content:"绑定成功！",showCancel:!1,success:function(e){n.redirectTo({url:"/pages/index/index"})}})}))):0==e.number||o==e.inviteCode?n.showModal({content:"绑定失败，该邀请码无效",showCancel:!1}):n.showModal({content:"绑定失败，此人已绑定了关系",showCancel:!1})})).catch((function(e){n.hideLoading(),n.showModal({content:"绑定错误",showCancel:!1}),console.error(e)}))}catch(a){}}}};e.default=o}).call(this,t("543d")["default"],t("a9ff")["default"])}},[["10c3","common/runtime","common/vendor"]]]);